<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A clueless, curious programmer's ramblings">

    <title>Working With Vim On Google Drive Via Fuse - BLOB</title>

    <link rel="canonical" href="http://ma08.github.io/Working-with-Vim-on-Google-Drive-via-FUSE/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">BLOB</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About ma08</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/shebang.jpg')">


    <script type="text/javascript" src="/js/mathjax.js"></script>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Working With Vim On Google Drive Via Fuse</h1>
                    
                    <span class="meta"><!--Posted--> by ma08 on March 8, 2015</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>This one&#39;s going to be a short one (I can sense the relief)
regarding mounting Google Drive on a linux
machine and using it to read/write.</p>

<p>I hated writing in Google Docs without the 
comfy environment of Vim. The <code>TEXTAREA</code> mode that Vimperator provides was
sufficient for editing short texts. But without the full power of Vim,
editing a huge Google Doc was painful and I grew restless. I tried <a href="https://github.com/ardagnir/pterosaur">pterosaur</a>
which embeds full-blown Vim in textareas. It gives you all those shortcuts
which you have built over time in your <code>vimrc</code>. It would have been the answer
to my travails if not for the terrible lag. 
I have given up on having a powerful Vim instance in the browser (for now) and 
proceeded to check if there was a way to access Google Docs with Vim.  I don&#39;t remember whether I have found <a href="https://github.com/astrada/google-drive-ocamlfuse">google-drive-ocamlfuse</a> on stackoverflow or on r/vim (might be both). It&#39;s basically a <a href="http://en.wikipedia.org/wiki/Filesystem_in_Userspace">FUSE file system</a>
for Google Drive written in OCaml(first time I have heard of that).</p>

<blockquote>
<p>Filesystem in Userspace (FUSE) is an operating system mechanism for Unix-like computer
operating systems that lets non-privileged users create their own file systems without
editing kernel code. This is achieved by running file system code in user space while the
FUSE module provides only a &quot;bridge&quot; to the actual kernel interfaces.</p>

<p>Virtual file system
FUSE is particularly useful for writing virtual file systems. Unlike traditional file systems
that essentially save data to and retrieve data from disk, virtual filesystems do not actually
store data themselves. They act as a view or translation of an existing file system or storage device.
In principle, any resource available to a FUSE implementation can be exported as a file system</p>
</blockquote>

<p>It&#39;s a great tool for working with Google Drive on linux machines. Using it with
Vim is just one of the use cases. Here is how the installation goes for Ubuntu.
Others might need to build it from source (<a href="https://github.com/astrada/google-drive-ocamlfuse#configuration-and-installation">check the repo</a>).</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ sudo add-apt-repository ppa:alessandro-strada/ppa
$ sudo apt-get update
$ sudo apt-get install google-drive-ocamlfuse</code></pre></figure>

<p>And it works out of the box. No need to get yourself lost in editing
configuration files or browsing man-pages to make yourself look cool
even though you really have no clue what you are supposed to look for.</p>

<p>Having said that, you might want to have a look at <code>~/.gdfuse/default/config</code> if you want
to tinker with some of the options.</p>

<p>After the installation is done, you need to give it the authentication.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ google-drive-ocamlfuse</code></pre></figure>

<p>It opens the authentication page and the usual stuff that goes with Google
Authentication follows.</p>

<p>Now comes the moment we (this might be the first time the word we had a singular vibe)
have been waiting for. Mount it like you mean it.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ mkdir mountdir
$ google-drive-ocamlfuse mount mountdir</code></pre></figure>

<p>Now fire up a file in Vim to edit/create and use the good ole :w to save it.
It might take some time (default is 60 seconds) to the changes to be 
reflected in the Drive.</p>

<p>To unmount,</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">$ fusermount -u mountdir</code></pre></figure>

<p>I know that you can&#39;t edit Word Processor files like <code>.doc</code> and <code>.docx</code> in Vim.
Bummer. I am willing to concede that for now and keep using <code>.txt</code> and <code>.md</code> when I need
to write something long and need it to be shared/collaborated.
No, that situation is not nonexistant.</p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/Idleness/" data-toggle="tooltip" data-placement="top" title="Idleness">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/XKCD-Lock-using-i3lock-and-xautolock/" data-toggle="tooltip" data-placement="top" title="Xkcd Lock Using I3lock And Xautolock">Next Post &rarr;</a>
                    </li>
                    
                </ul>

<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'sourya4'; // required: replace example with your forum shortname
  var disqus_identifier = '_posts/2015-03-08-Working-with-Vim-on-Google-Drive-via-FUSE.md';
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http:/disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http:/disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/ma08">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://stackoverflow.com/users/3465519">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; BLOB 2021</p>
            </div>
        </div>
    </div>
</footer>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-51744607-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
